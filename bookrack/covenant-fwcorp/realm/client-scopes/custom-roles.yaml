description: "Custom roles scope for advanced role mapping"
protocol: openid-connect
default: true

protocolMappers:
  - name: realm-roles-mapper
    protocol: openid-connect
    protocolMapper: oidc-usermodel-realm-role-mapper
    config:
      multivalued: "true"
      access.token.claim: "true"
      claim.name: realm_roles
      id.token.claim: "true"
      userinfo.token.claim: "true"

  - name: client-roles-mapper
    protocol: openid-connect
    protocolMapper: oidc-usermodel-client-role-mapper
    config:
      multivalued: "true"
      access.token.claim: "true"
      claim.name: resource_access.${client_id}.roles
      id.token.claim: "true"
      userinfo.token.claim: "true"

  - name: groups-mapper
    protocol: openid-connect
    protocolMapper: oidc-group-membership-mapper
    config:
      full.path: "true"
      access.token.claim: "true"
      claim.name: groups
      id.token.claim: "true"
      userinfo.token.claim: "true"

  - name: audience-mapper
    protocol: openid-connect
    protocolMapper: oidc-audience-mapper
    config:
      included.client.audience: "account"
      access.token.claim: "true"
